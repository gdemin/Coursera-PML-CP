---
title: "PML Course project"
output: html_document
---



```{r}
# Here we download and load data

if (!file.exists("data/pml-training.csv")){
    download.file("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv",destfile = "data/pml-training.csv")

}
if (!file.exists("data/pml-testing.csv")){
    download.file("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv",destfile = "data/pml-testing.csv")
    
}

pml_train = read.csv("data/pml-training.csv", header = TRUE)  
pml_test = read.csv("data/pml-testing.csv", header = TRUE)

summary(pml_train)

# There is some '#DIV/0!'. Thats why some numeric variables were incorrectly encoded as charaters. Below we correct them:

cat("Train. Converted to numeric:")
for (each in colnames(pml_train)) {
    curr_var = pml_train[,each]
    if (is.character(curr_var) & any(grepl('#DIV/0!',curr_var, fixed=TRUE))) {
        cat (each," ")
        pml_train[,each] = as.numeric(curr_var)
    }
}  
cat("\n")
cat("Test. Converted to numeric:")
for (each in colnames(pml_test)) {
    curr_var = pml_test[,each]
    if (is.character(curr_var) & any(grepl('#DIV/0!',curr_var, fixed=TRUE))) {
        cat (each," ")
        pml_test[,each] = as.numeric(curr_var)
    }
}  
cat("\n")   
```

